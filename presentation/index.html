<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>演示系统</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    .hover-show { opacity: 0; transition: opacity 0.3s; pointer-events: none; }
    .hover-show.visible { opacity: 1; pointer-events: auto; }
    .lightbox { display: none; }
    .lightbox.active { display: flex; }
    iframe { border: none; }
    
    /* 切页遮罩 */
    .page-overlay {
      position: fixed;
      inset: 0;
      background: white;
      z-index: 10;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease;
    }
    .page-overlay.active {
      opacity: 1;
    }
    
    
    /* 素材下拉 - 点击展开 */
    .assets-dropdown {
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.2s;
    }
    .assets-dropdown.open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    /* 左侧目录抽屉 */
    .toc-drawer {
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }
    .toc-drawer.open {
      transform: translateX(0);
    }
    .toc-backdrop {
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .toc-backdrop.open {
      opacity: 1;
      visibility: visible;
    }
    
    /* 页面预览模态窗 */
    .page-modal {
      display: none;
    }
    .page-modal.active {
      display: flex;
    }
  </style>
</head>
<body class="bg-slate-900 text-gray-100 h-screen overflow-hidden">

  <!-- 目录按钮 - 左上角，纯图标 -->
  <button id="tocBtn" title="目录 (T)" 
    class="fixed top-5 left-5 z-50 text-gray-400 hover:text-gray-600 text-lg cursor-pointer bg-transparent border-none transition-all">
    <i class="fa-solid fa-bars"></i>
  </button>
  
  <!-- 目录抽屉背景遮罩 -->
  <div id="tocBackdrop" class="toc-backdrop fixed inset-0 bg-black/50 z-[60]"></div>
  
  <!-- 目录抽屉 -->
  <div id="tocDrawer" class="toc-drawer fixed top-0 left-0 h-full w-72 bg-white z-[70] shadow-2xl flex flex-col">
    <!-- 标题栏 -->
    <div class="flex items-center justify-between px-4 py-4 border-b border-gray-100">
      <span class="text-base font-semibold text-gray-800">目录</span>
      <button id="tocCloseBtn" class="w-8 h-8 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 text-sm cursor-pointer border-none transition-all flex items-center justify-center">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <!-- 目录列表 -->
    <div id="tocList" class="flex-1 overflow-y-auto py-2">
      <!-- 目录项动态生成 -->
    </div>
  </div>

  <!-- 底部触发区域 - 鼠标移入显示底部控件 -->
  <div id="bottomTriggerZone" class="fixed bottom-0 left-0 right-0 h-20 z-40"></div>

  <!-- 素材按钮 - 右上角，固定显示 -->
  <div id="assetsTrigger" class="fixed top-4 right-4 z-50 hidden">
    <button id="assetsBtn" class="w-9 h-9 rounded-lg bg-indigo-500 hover:bg-indigo-600 text-white text-sm cursor-pointer border-none transition-all flex items-center justify-center shadow-md shadow-indigo-500/30">
      <i class="fa-solid fa-photo-film"></i>
    </button>
    
    <!-- 下拉素材列表 -->
    <div id="assetsDropdown" class="assets-dropdown absolute top-full right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden">
      <!-- 标题栏 -->
      <div class="flex items-center justify-between px-4 py-3 border-b border-gray-100 bg-gray-50">
        <span class="text-sm font-medium text-gray-700">素材列表</span>
        <button id="assetsCloseBtn" class="w-6 h-6 rounded-full hover:bg-gray-200 text-gray-400 hover:text-gray-600 text-xs cursor-pointer border-none transition-all flex items-center justify-center">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div id="assetsList" class="max-h-72 overflow-y-auto">
        <!-- 素材列表动态生成 -->
      </div>
    </div>
  </div>
  
  <!-- 底部页码导航 - 居中 -->
  <div class="hover-show fixed bottom-4 left-1/2 -translate-x-1/2 z-50 flex items-center gap-2 px-2 py-2 bg-gray-700 rounded-full shadow-lg">
    <!-- 上一页按钮 -->
    <button id="prevBtn" title="上一页 (←)" 
      class="w-9 h-9 rounded-full bg-gray-600 hover:bg-gray-500 text-white text-sm cursor-pointer border-none transition-all flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed">
      <i class="fa-solid fa-chevron-left"></i>
    </button>
    
    <!-- 页码显示 -->
    <div id="pageIndicator" class="px-4 py-1 text-sm text-white min-w-[60px] text-center">
      1 / 1
    </div>
    
    <!-- 下一页按钮 -->
    <button id="nextBtn" title="下一页 (→)" 
      class="w-9 h-9 rounded-full bg-gray-600 hover:bg-gray-500 text-white text-sm cursor-pointer border-none transition-all flex items-center justify-center disabled:opacity-30 disabled:cursor-not-allowed">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
  
  <!-- 全屏按钮 - 右下角 -->
  <button id="fullscreenBtn" title="全屏 (F)" 
    class="hover-show fixed bottom-4 right-4 z-50 w-9 h-9 rounded-full bg-gray-700 hover:bg-gray-600 text-white text-sm cursor-pointer border-none transition-all flex items-center justify-center shadow-lg">
    <i class="fa-solid fa-expand"></i>
  </button>

  <!-- 切页遮罩 -->
  <div id="pageOverlay" class="page-overlay"></div>

  <!-- 内容区 - 全宽 -->
  <div class="h-screen w-screen relative">
    <iframe id="contentFrame" class="w-full h-full"></iframe>
  </div>

  <!-- 素材预览弹窗（图片/视频） -->
  <div id="lightbox" class="lightbox fixed inset-0 bg-black/90 z-[1000] items-center justify-center">
    <div id="lightboxClose" class="absolute top-5 right-8 text-4xl text-white cursor-pointer opacity-70 hover:opacity-100">
      <i class="fa-solid fa-xmark"></i>
    </div>
    <div id="lightboxContent" class="max-w-[90vw] max-h-[90vh]"></div>
  </div>
  
  <!-- 页面预览模态窗（HTML页面） -->
  <div id="pageModal" class="page-modal fixed inset-0 bg-black/90 z-[1000] items-center justify-center p-8">
    <div id="pageModalClose" class="absolute top-4 right-6 text-3xl text-white cursor-pointer opacity-70 hover:opacity-100 z-10">
      <i class="fa-solid fa-xmark"></i>
    </div>
    <div class="w-full h-full bg-white rounded-xl overflow-hidden shadow-2xl">
      <iframe id="pageModalFrame" class="w-full h-full border-none"></iframe>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
